if(COMMAND cmake_policy)
  cmake_policy(SET CMP0003 NEW)
endif(COMMAND cmake_policy)
project (C-GDY-SAC)

#add_library(msiParser src/msiParser/parse_msi.c src/msiParser/mod_msi.c src/msiParser/parse_mol.c src/msiParser/parse_base.c)
#add_library(MyMaths src/maths/MyMaths.c)
#add_library(msiWriter src/msiWriter/msiWriter.c)
#target_link_libraries(msiParser -L/opt/homebrew/lib -lpcre2-8)
#add_executable(main.o src/main.c)
#target_link_libraries(main.o msiParser MyMaths msiWriter)
#set (CMAKE_C_FLAGS "-Wall -I/opt/homebrew/include -g")

add_library(my_maths src/my_maths.c)
target_link_libraries(my_maths -L/opt/homebrew/lib -lMatrix -lm)
add_library(atom src/atom.c)
target_link_libraries(atom -L/opt/homebrew/lib -lMatrix -lm)
add_library(mol src/molecule.c)
target_link_libraries(mol -L/opt/homebrew/lib -lMatrix -lm)
add_library(parser src/parser.c)
target_link_libraries(parser -L/opt/homebrew/lib -lpcre2-8)
add_executable(test.o src/main.c)
target_link_libraries(test.o my_maths atom mol parser)
set (CMAKE_C_FLAGS "-Wall -I/opt/homebrew/include -L/opt/homebrew/lib -lMatrix -lm -g")
